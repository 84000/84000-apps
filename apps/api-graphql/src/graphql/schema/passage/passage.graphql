"""
A passage of text from a work
"""
type Passage {
  """
  Unique identifier for the passage
  """
  uuid: ID!

  """
  Text content of the passage
  """
  content: String!

  """
  Display label for the passage (e.g., "1.1")
  """
  label: String!

  """
  Sort order within the work
  """
  sort: Int!

  """
  Type of passage content (e.g., translation, introduction, colophon)
  """
  type: String!

  """
  XML ID from the source document
  """
  xmlId: String

  """
  Annotations marking up ranges within this passage
  """
  annotations: [Annotation!]!

  """
  Alignments linking this passage to Tibetan source text
  """
  alignments: [Alignment!]!

  """
  TipTap editor JSON representation of this passage.
  Transforms content and annotations into nested JSON structure.
  """
  json: JSON
}

"""
Filter options for passages
"""
input PassageFilter {
  """
  Filter by passage type (e.g., translation, introduction, colophon).
  Can be a single type or use LIKE pattern with %.
  """
  type: String

  """
  Filter by multiple passage types (OR logic).
  Use this instead of type when filtering by multiple types.
  """
  types: [String!]
}

"""
Direction for pagination
"""
enum PaginationDirection {
  """
  Fetch passages after the cursor (default)
  """
  FORWARD

  """
  Fetch passages before the cursor
  """
  BACKWARD

  """
  Fetch passages around the cursor (both before and after)
  """
  AROUND
}

"""
Paginated connection of passages
"""
type PassageConnection {
  """
  List of passages
  """
  nodes: [Passage!]!

  """
  Cursor for fetching the next page
  """
  nextCursor: String

  """
  Cursor for fetching the previous page
  """
  prevCursor: String

  """
  Whether there are more passages after the current page
  """
  hasMoreAfter: Boolean!

  """
  Whether there are more passages before the current page
  """
  hasMoreBefore: Boolean!
}
