"""
A published translation work from the 84000 canon
"""
type Work {
  """
  Unique identifier for the work
  """
  uuid: ID!

  """
  Title of the work
  """
  title: String!

  """
  Tohoku catalog entry numbers (e.g., ["toh1", "toh2"])
  """
  toh: [String!]!

  """
  Date the work was published
  """
  publicationDate: String!

  """
  Semantic version of the publication (e.g., "1.0.0")
  """
  publicationVersion: String!

  """
  Number of source pages
  """
  pages: Int!

  """
  Whether access to this work is restricted
  """
  restriction: Boolean!

  """
  Section of the canon this work belongs to
  """
  section: String!

  """
  Publication imprint information.
  If the work query specified a toh argument, that value will be used.
  Otherwise, imprint for the first toh in the work is returned.
  """
  imprint: Imprint

  """
  Table of contents for the work, organized by major sections.
  Returns a recursive tree structure up to 12 levels deep.
  See the TocEntry type documentation for query examples.
  """
  toc: Toc

  """
  Paginated passages from this work
  """
  passages(
    """
    Cursor for pagination (passage UUID to start from)
    """
    cursor: String

    """
    Maximum number of passages to return (default: 20, max: 100)
    """
    limit: Int

    """
    Filter passages by criteria
    """
    filter: PassageFilter

    """
    Direction for pagination (default: FORWARD)
    """
    direction: PaginationDirection
  ): PassageConnection!
}

"""
Connection type for paginated works
"""
type WorkConnection {
  """
  List of works in this page
  """
  items: [Work!]!

  """
  Pagination information
  """
  pageInfo: PageInfo!

  """
  Total count of works matching the query
  """
  totalCount: Int!
}

extend type Query {
  """
  Get all published translation works (deprecated, use worksConnection for pagination)
  """
  works: [Work!]!
    @deprecated(reason: "Use worksConnection for pagination support")

  """
  Get paginated published translation works
  """
  worksConnection(
    """
    Cursor for pagination (work UUID to start from)
    """
    cursor: String

    """
    Maximum number of works to return (default: 50, max: 200)
    """
    limit: Int
  ): WorkConnection!

  """
  Get a single work by UUID or Tohoku catalog number.
  When both uuid and toh are provided, toh acts as a composite key
  and will be used as the default for nested resolvers (like imprint).
  """
  work(
    """
    Unique identifier for the work
    """
    uuid: ID

    """
    Tohoku catalog entry number. Can be combined with uuid to select
    a specific toh for multi-toh works (composite key).
    """
    toh: String
  ): Work
}
